<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" type="text/css" href="css/normalize.css">
  <link rel="stylesheet" type="text/css" href="css/foundation.min.css">
  <link rel="stylesheet" type="text/css" href="css/stylesheet.css" />
  <link rel="stylesheet" type="text/css" href="css/grid-system.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/backbone.js/1.2.1/backbone-min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/js-cookie/2.0.2/js.cookie.js"></script>
    <script src="script.js"></script>

    <script src="js/routes/router.js"></script>


    <script src="js/models/article.js"></script>
    <script src="js/models/category.js"></script>
    <script src="js/collections/article_list.js"></script>
    <script src="js/views/home_view.js"></script>
    <script src="js/views/article_view.js"></script>
    <script src="js/views/profile_view.js"></script>
    <script src="js/views/app_view/appView.js"></script>
    <script src="js/views/app_view/loggedInView.js"></script>
    <script src="js/views/app_view/loggedOutView.js"></script>

    <script src="js/views/article_list_view.js"></script>

  <title>Pocket</title>
</head>
<body>
<!-- Below is navigation bar -->
  <div class="jumbotron">
    <div class="container">
      <div class="logo box40">
        <h1><a href="#">PocketApp</a></h1>      
      </div>

      <div class="nav box40">
        <ul>
          <li><a href="/">Home</a></li>
          <li><a href="/#profile">Profile</a></li>
          <li><a href="/#users/sign_in">Login</a></li>
          <li id="search_container"></li> 
        </ul>
      </div>
    </div>
  </div>
<!-- end -->


  <div id="user-login"></div>
  <div id="user-signup"></div>
  <div id="profile"></div>

  <div id="app">
    
  </div>
      
      <!-- Articles will hopefully be loaded inside here -->
<script type="text/template" id="article_template">
  <div id="article"> 
    
    <div id="articleList" class="pure-g">
    </div>
  </div>
</script>


<script type="text/template" id="search_template">
  <li><input type="text" id="search_input" /></li>
  <li><input type="button" id="search_button" value="Search me?" /></li>
</script>

<script type="text/template" id="profile_template">
  <div id="articleList" class="pure-g">
  <form action="#" id="add">
      <input type="text" class="box20" id="url-upload" name="Url" placeholder="Please enter URL link"/>
      <input type="text" id="category-upload" class="box20" name="category" placeholder="Enter the categories for this article"/>
      <input type="submit" value="Add"/>
      <button class="sortBy">Sorter</button>
    </form>
</script>



<script type="text/javascript">
  var SearchView = Backbone.View.extend({
    initialize: function(){
      this.render();
    },
    render: function(){
      //Pass variables in using Underscore.js Template
      var variables = { search_label: "My Search" };
      // Compile the template using underscore
      var template = _.template( $("#search_template").html(), variables );
      // Load the compiled HTML into the Backbone "el"
      this.$el.html( template );
    },
    events: {
      "click input[type=button]": "doSearch"  
    },
    doSearch: function( event ){
      debugger;
      // Button clicked, you can access the element that was clicked with event.currentTarget
      alert( "Search for " + $("#search_input").val() );
    }
  });

  var search_view = new SearchView({ el: $("#search_container") });
</script>

  <!-- This is for articles -->
  <script id="appView" type="text/x-underscore-template">

  </script>
  <!-- end -->


  <script id="loggedOutView" type="text/x-underscore-template">
    <div class="box box50">
      
      <p>Login here:</p>
      <form id="login">
        <label>Email:</label>
        <input type="text" id="email" name="email">
        <label>Password:</label>
        <input type="password" id="password" name="password">
        <button type="submit">Login</button>
      </form>
    </div>
    <div class="box box50">
      <p>SignUp here:</p>
      <form id="signup">
        <label>Email:</label>
        <input type="text" id="email-signup" name="email">
        <label>Password:</label>
        <input type="password" id="password-signup" name="password">
        <label>Please Retype Your Password:</label>
        <input type="password" id="password-confirmation-signup" name="password-confirmation">
        <button type="submit">Sign Up</button>
      </form>
    </div>
  </script>

  <script id="loggedInView" type="text/x-underscore-template">
    logged in as: <%= PocketApp.currentUser.email %> <button id="logout">Logout</button>
  </script>
  <!-- Searchy search search <-->
  <!-- <% _.sortBy(articles, created_at).reverse() %> -->

  <script type="text/x-underscore-template" id="tpl_article">
  <% if(_.isEmpty(PocketApp.currentUser)) { %>
    <h3 class="article"><%= title %></h3>
    <h5 class="article"><%= description %></h5>
    <h5 class="article">
      <img src="<%= image %>" alt="">
    </h5>
    <h5 class="article"><%= site_name %></h5>

  <% } else { %>

    <a href= <%= url %> >

      <h3 class="article"><%= title %></h3>
      <h5 class="article"><%= description %></h5>
      <h5 class="article">
        <img src=<%= image %> alt="">
      </h5>
      <h5 class="article"><%= site_name %></h5>
      <button class="remove">Remove</button>
      <p class="categories_articles">
        <% _.each(categories, function(category) { %>
          <%= category.name %>
        <% }); %>
      </p>
    </a>

    <% } %>

</script>

</body>




</html>





